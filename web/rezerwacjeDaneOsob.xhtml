<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <body>

        <ui:composition template="szablon.xhtml">

            <ui:define name="top">
                #Kielce
            </ui:define>
            <ui:define name="navigation" />
           
         
            
            <ui:define name="reservationSteps">
                  <div class="reservationStepsContainer">
                        <div class="reservationStep finishedReservationStep">1. Wybór miejsca</div>
                        <div class="reservationStep finishedReservationStep">2. Potwierdzenie</div>
                        <div class="reservationStep currentReservationStep">3. Dane osobowe</div>
                        <div class="reservationStep">4. Podsumowanie</div>
                        <div class="clearboth"></div>
                    </div>
            </ui:define>
            <ui:define name="content">
                <h:outputScript name="js/resevationPerson.js" target="head" >
                    
                </h:outputScript>
                <section class="reservationContainer">
                    <h2>Rezerwacja:</h2>
                    <h3>#{rezerwacjeBean.tytulFilmu}</h3>
                    <p>#{rezerwacjeBean.data} #{rezerwacjeBean.godzina}</p>

                    <div class="reservationPlaceFormContainer">
                       
                        <h:panelGroup layout="block" rendered="#{not loginBean.currentKlient.login}">
                            <p class="choosingOptionForPersonLabel">Wybierz jedna z opcji:</p>
                            <select id="chooseingOptionForPersonForm">
                                <option></option>
                                <option>Posiadam konto</option>
                                <option>Nie posiadam konta, ale chce się zarejestrować</option>
                                <option>Nie posiadam konta, ale chce kontynuować</option>
                            </select>
                        
                        <div class="loginContainer">
                            <div class="reservationIntputsUserContainer">
                                <h:form id="reservationloginForm">
                                    <p><label for="loginInput">Login:</label><h:inputText id="loginInput" value="#{loginBean.email}"/></p>
                                    <p><label for="passwordInput">Hasło:</label><h:inputSecret id="passwordInput" value="#{loginBean.haslo}" /></p>
                                    <p><h:commandButton value="Zaloguj" action="#{loginBean.loginActionReservation}" /></p>
                                </h:form>
                            </div>
                            
                            <h:form id="reservationRegistrationForm">

                               <div class="reservationIntputsUserContainer">
                                    <p><label for="emailInput">E-mail:</label>
                                        <h:inputText id="emailInput" value="#{klientBean.email}"/>
                                    </p>
                                    <p><label for="passwordInput">Hasło:</label>
                                        <h:inputSecret id="passwordInput" value="#{klientBean.haslo}"/>
                                    </p>
                                    <p><label for="repeatPasswordInput">Potwierdzenie hasła:</label>
                                        <h:inputSecret id="repeatPasswordInput" 
                                                       value='#{klientBean.haslo2}' />
                                    </p>
                                    <p><label for="fNameInput">Imię:</label>
                                        <h:inputText id="fNameInput"  value="#{klientBean.imie}"/>
                                    </p>
                                    <p><label for="nameInput">Nazwisko:</label>
                                        <h:inputText id="nameInput" value="#{klientBean.nazwisko}"/>
                                    </p>

                                   <p><h:commandButton actionListener="#{klientBean.addKlientReservation}" action="#{loginBean.loginActionReservation}" 
                                                        value="Zarejestruj" />
                                   </p>
           
                                </div>
                                <h:messages infoStyle="color:green" layout="table" />
                            </h:form>
                            
                            <div class="reservationIntputsUserContainer">
                                <h:form id="reservationClientData">
                                   <p><label for="imieRes">Imię:</label><h:inputText id="imieRes" value="#{rezerwacjeBean.klientId.imie}" class="reservationFName"/> </p>
                                   <p><label for="nazwiskoRes">Nazwisko:</label><h:inputText id="nazwiskoRes" value="#{rezerwacjeBean.klientId.nazwisko}" class="reservationFName"/> </p>
                                   <p><label for="emailRes">E-mail:</label><h:inputText id="emailRes" value="#{rezerwacjeBean.klientId.email}" class="reservationFName"/> </p>
                                   <p><h:commandButton action="#{rezerwacjeBean.goNextStep}" value="Dalej" /></p>

                               </h:form>
                            </div>
                            
                        </div>
                            
                            
                               



                                <div class="buttonsReservationContainer">
                                    <div class="previousButton">
                                        <a href="rezerwacje.xhtml" class="prevButtonLink">Powrót</a>
                                    </div>


                                    <div class="clearboth"></div>

                                </div>
                            
                        </h:panelGroup>
                        
                    </div> 
                    
                </section>
                   
               
                
            </ui:define>

            
            
            
            
            
        </ui:composition>

    </body>
</html>
